Resultats des tests - Sun 08/24/2025  3:05:19.14 
---------------------------------------- 
 

   INFO  Configuration cache cleared successfully.  


   INFO  Preparing database.  

  Creating migration table ...................................... 21.93ms DONE

   INFO  Running migrations.  

  0001_01_01_000000_create_users_table .......................... 39.52ms DONE
  0001_01_01_000001_create_cache_table .......................... 13.12ms DONE
  0001_01_01_000002_create_jobs_table ........................... 32.87ms DONE
  2025_08_22_134852_create_personal_access_tokens_table ......... 26.29ms DONE
  2025_08_22_150001_create_owners_table ......................... 13.34ms DONE
  2025_08_22_150002_create_vehicles_table ....................... 23.34ms DONE
  2025_08_22_150003_create_procedures_table ..................... 13.51ms DONE
  2025_08_22_150004_create_procedure_documents_table ............ 12.39ms DONE
  2025_08_22_150005_create_payments_table ....................... 22.65ms DONE
  2025_08_22_150006_create_notifications_table .................. 18.47ms DONE
  2025_08_22_150007_create_settings_table ....................... 25.97ms DONE
  2025_08_23_100001_add_release_date_to_vehicles_table ........... 6.57ms DONE
  2025_08_23_100002_add_owner_id_to_notifications_table ......... 49.55ms DONE
  2025_08_24_100001_add_user_id_to_payments_table ............... 54.81ms DONE
  2025_08_24_100002_add_user_id_to_notifications_table .......... 56.63ms DONE
  2025_08_24_100003_add_user_id_to_procedures_table ............. 43.18ms DONE


   INFO  Seeding database.  

  Database\Seeders\UserSeeder ........................................ RUNNING  
  Database\Seeders\UserSeeder .................................. 2,981 ms DONE  

  Database\Seeders\DemoDataSeeder .................................... RUNNING  
  Database\Seeders\DemoDataSeeder .............................. 3,333 ms DONE  


   WARN  Metadata found in doc-comment for method Tests\Unit\Services\FeeCalculationServiceTest::it_calculates_basic_fees_correctly(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Unit\Services\FeeCalculationServiceTest::it_calculates_penalty_fees_correctly(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\DashboardControllerTest::admin_can_get_dashboard_stats(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\DashboardControllerTest::admin_can_get_recent_activities(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\DashboardControllerTest::admin_can_get_revenue_stats(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\DashboardControllerTest::regular_user_cannot_access_dashboard(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\NotificationControllerTest::admin_can_retrieve_all_notifications(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\NotificationControllerTest::admin_can_create_a_notification(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\NotificationControllerTest::admin_can_retrieve_a_specific_notification(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\NotificationControllerTest::admin_can_update_a_notification_status(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\NotificationControllerTest::admin_can_retrieve_notifications_for_an_owner(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\NotificationControllerTest::admin_can_create_a_notification_for_an_owner(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\NotificationControllerTest::agent_can_view_but_not_send_notifications(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\OwnerControllerTest::admin_can_retrieve_all_owners(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\OwnerControllerTest::admin_can_create_an_owner(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\OwnerControllerTest::admin_can_retrieve_a_specific_owner(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\OwnerControllerTest::admin_can_update_an_owner(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\OwnerControllerTest::admin_can_delete_an_owner_without_vehicles(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\OwnerControllerTest::admin_cannot_delete_an_owner_with_vehicles(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\OwnerControllerTest::admin_can_retrieve_vehicles_for_an_owner(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\PaymentControllerTest::admin_can_retrieve_all_payments(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\PaymentControllerTest::admin_can_create_a_payment(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\PaymentControllerTest::admin_can_retrieve_a_specific_payment(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\PaymentControllerTest::admin_can_retrieve_receipt_for_a_payment(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\PaymentControllerTest::admin_can_retrieve_payments_for_a_vehicle(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\PaymentControllerTest::admin_can_create_a_payment_for_a_vehicle(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\ProcedureControllerTest::admin_can_retrieve_all_procedures(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\ProcedureControllerTest::admin_can_create_a_procedure(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\ProcedureControllerTest::admin_can_retrieve_a_specific_procedure(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\ProcedureControllerTest::admin_can_update_a_procedure(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\ProcedureControllerTest::agent_can_only_view_procedures(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\ProcedureControllerTest::admin_can_retrieve_procedures_for_a_vehicle(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\ProcedureControllerTest::admin_can_create_a_procedure_for_a_vehicle(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\UserControllerTest::admin_can_retrieve_all_users(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\UserControllerTest::admin_can_create_a_user(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\UserControllerTest::admin_can_retrieve_a_specific_user(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\UserControllerTest::admin_can_update_a_user(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\UserControllerTest::admin_can_delete_a_user(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\UserControllerTest::admin_cannot_delete_themselves(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\UserControllerTest::agent_cannot_manage_users(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\UserControllerTest::admin_can_search_users_by_name_or_email(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\UserControllerTest::user_can_change_their_own_password(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\UserControllerTest::admin_can_reset_user_password(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\VehicleControllerTest::admin_can_retrieve_all_vehicles(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\VehicleControllerTest::admin_can_create_a_vehicle(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\VehicleControllerTest::admin_can_retrieve_a_specific_vehicle(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\VehicleControllerTest::admin_can_update_a_vehicle(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\VehicleControllerTest::admin_can_delete_a_vehicle(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   WARN  Metadata found in doc-comment for method Tests\Feature\Controllers\VehicleControllerTest::admin_can_calculate_storage_fee_for_a_vehicle(). Metadata in doc-comments is deprecated and will no longer be supported in PHPUnit 12. Update your test code to use attributes instead.

   PASS  Tests\Unit\ExampleTest
  ✓ that true is true                                                    0.01s  

   FAIL  Tests\Unit\Services\FeeCalculationServiceTest
  ⨯ it calculates basic fees correctly                                   0.66s  
  ⨯ it calculates penalty fees correctly                                 0.05s  

   FAIL  Tests\Feature\Controllers\DashboardControllerTest
  ⨯ admin can get dashboard stats                                        1.54s  
  ⨯ admin can get recent activities                                      0.23s  
  ⨯ admin can get revenue stats                                          0.20s  
  ⨯ regular user cannot access dashboard                                 0.15s  

   FAIL  Tests\Feature\Controllers\NotificationControllerTest
  ⨯ admin can retrieve all notifications                                 0.11s  
  ⨯ admin can create a notification                                      0.07s  
  ⨯ admin can retrieve a specific notification                           0.06s  
  ⨯ admin can update a notification status                               0.08s  
  ⨯ admin can retrieve notifications for an owner                        0.08s  
  ⨯ admin can create a notification for an owner                         0.08s  
  ⨯ agent can view but not send notifications                            0.07s  

   FAIL  Tests\Feature\Controllers\OwnerControllerTest
  ✓ admin can retrieve all owners                                        0.09s  
  ⨯ admin can create an owner                                            0.11s  
  ⨯ admin can retrieve a specific owner                                  0.06s  
  ⨯ admin can update an owner                                            0.09s  
  ✓ admin can delete an owner without vehicles                           0.15s  
  ✓ admin cannot delete an owner with vehicles                           0.09s  
  ✓ admin can retrieve vehicles for an owner                             0.15s  

   FAIL  Tests\Feature\Controllers\PaymentControllerTest
  ✓ admin can retrieve all payments                                      0.29s  
  ⨯ admin can create a payment                                           0.22s  
  ✓ admin can retrieve a specific payment                                0.23s  
  ⨯ admin can retrieve receipt for a payment                             0.13s  
  ⨯ admin can retrieve payments for a vehicle                            0.18s  
  ⨯ admin can create a payment for a vehicle                             0.23s  

   FAIL  Tests\Feature\Controllers\ProcedureControllerTest
  ⨯ admin can retrieve all procedures                                    0.22s  
  ⨯ admin can create a procedure                                         0.15s  
  ⨯ admin can retrieve a specific procedure                              0.17s  
  ⨯ admin can update a procedure                                         0.10s  
  ⨯ agent can only view procedures                                       0.23s  
  ⨯ admin can retrieve procedures for a vehicle                          0.33s  
  ⨯ admin can create a procedure for a vehicle                           0.14s  

   FAIL  Tests\Feature\Controllers\UserControllerTest
  ⨯ admin can retrieve all users                                         0.10s  
  ⨯ admin can create a user                                              0.06s  
  ⨯ admin can retrieve a specific user                                   0.08s  
  ⨯ admin can update a user                                              0.08s  
  ⨯ admin can delete a user                                              0.05s  
  ⨯ admin cannot delete themselves                                       0.07s  
  ⨯ agent cannot manage users                                            0.10s  
  ⨯ admin can search users by name or email                              0.11s  
  ⨯ user can change their own password                                   0.07s  
  ⨯ admin can reset user password                                        0.06s  

   PASS  Tests\Feature\Controllers\VehicleControllerTest
  ✓ admin can retrieve all vehicles                                      0.11s  
  ✓ admin can create a vehicle                                           0.08s  
  ✓ admin can retrieve a specific vehicle                                0.07s  
  ✓ admin can update a vehicle                                           0.06s  
  ✓ admin can delete a vehicle                                           0.09s  
  ✓ admin can calculate storage fee for a vehicle                        0.12s  

   PASS  Tests\Feature\ExampleTest
  ✓ the application returns a successful response                        0.14s  
  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Unit\Services\FeeCalculationServiceTest > it calculates basic fees correctly  UniqueConstraintViolationException   
  SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: settings.key (Connection: sqlite, SQL: insert into "settings" ("key", "value", "description", "group", "is_public", "updated_at", "created_at") values (daily_storage_fee, "{\"amount\":2000}", Frais journaliers de gardiennage (FCFA), fees, 1, 2025-08-24 02:05:33, 2025-08-24 02:05:33))

  at vendor\laravel\framework\src\Illuminate\Database\Connection.php:570
    566▕             $this->bindValues($statement, $this->prepareBindings($bindings));
    567▕ 
    568▕             $this->recordsHaveBeenModified();
    569▕ 
  ➜ 570▕             return $statement->execute();
    571▕         });
    572▕     }
    573▕ 
    574▕     /**

  1   vendor\laravel\framework\src\Illuminate\Database\Connection.php:570
  2   vendor\laravel\framework\src\Illuminate\Database\Connection.php:811
  3   vendor\laravel\framework\src\Illuminate\Database\Connection.php:778
  4   vendor\laravel\framework\src\Illuminate\Database\Connection.php:559
  5   vendor\laravel\framework\src\Illuminate\Database\Connection.php:523
  6   vendor\laravel\framework\src\Illuminate\Database\Query\Processors\Processor.php:32
  7   vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php:3853
  8   vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php:2220
  9   vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php:1434
  10  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php:1399
  11  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php:1238
  12  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php:1204
  13  vendor\laravel\framework\src\Illuminate\Support\helpers.php:399
  14  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php:1203
  15  vendor\laravel\framework\src\Illuminate\Support\Traits\ForwardsCalls.php:23
  16  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php:2525
  17  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php:2541
  18  tests\Unit\Services\FeeCalculationServiceTest.php:29

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Unit\Services\FeeCalculationServiceTest > it calculates penalty fees correctly  UniqueConstraintViolationException   
  SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: settings.key (Connection: sqlite, SQL: insert into "settings" ("key", "value", "description", "group", "is_public", "updated_at", "created_at") values (daily_storage_fee, "{\"amount\":2000}", Frais journaliers de gardiennage (FCFA), fees, 1, 2025-08-24 02:05:34, 2025-08-24 02:05:34))

  at vendor\laravel\framework\src\Illuminate\Database\Connection.php:570
    566▕             $this->bindValues($statement, $this->prepareBindings($bindings));
    567▕ 
    568▕             $this->recordsHaveBeenModified();
    569▕ 
  ➜ 570▕             return $statement->execute();
    571▕         });
    572▕     }
    573▕ 
    574▕     /**

  1   vendor\laravel\framework\src\Illuminate\Database\Connection.php:570
  2   vendor\laravel\framework\src\Illuminate\Database\Connection.php:811
  3   vendor\laravel\framework\src\Illuminate\Database\Connection.php:778
  4   vendor\laravel\framework\src\Illuminate\Database\Connection.php:559
  5   vendor\laravel\framework\src\Illuminate\Database\Connection.php:523
  6   vendor\laravel\framework\src\Illuminate\Database\Query\Processors\Processor.php:32
  7   vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php:3853
  8   vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php:2220
  9   vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php:1434
  10  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php:1399
  11  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php:1238
  12  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php:1204
  13  vendor\laravel\framework\src\Illuminate\Support\helpers.php:399
  14  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php:1203
  15  vendor\laravel\framework\src\Illuminate\Support\Traits\ForwardsCalls.php:23
  16  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php:2525
  17  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php:2541
  18  tests\Unit\Services\FeeCalculationServiceTest.php:65

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\DashboardControllerTest > admin can get dashboard stats   
  Failed asserting that an array has the key 'impounded_vehicles'.

  at vendor\laravel\framework\src\Illuminate\Testing\AssertableJsonString.php:303
    299▕                 PHPUnit::assertArrayHasKey($key, $this->decoded);
    300▕ 
    301▕                 $this->assertStructure($structure[$key], $this->decoded[$key], $exact);
    302▕             } else {
  ➜ 303▕                 PHPUnit::assertArrayHasKey($value, $this->decoded);
    304▕             }
    305▕         }
    306▕ 
    307▕         return $this;

  1   vendor\laravel\framework\src\Illuminate\Testing\AssertableJsonString.php:303
  2   vendor\laravel\framework\src\Illuminate\Testing\AssertableJsonString.php:278
  3   vendor\laravel\framework\src\Illuminate\Testing\AssertableJsonString.php:301
  4   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:978
  5   tests\Feature\Controllers\DashboardControllerTest.php:84

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\DashboardControllerTest > admin can get recent activities   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

PDOException: SQLSTATE[HY000]: General error: 1 no such function: CONCAT in C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Connection.php:406
Stack trace:
#0 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Connection.php(406): PDO->prepare()
#1 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Connection.php(811): Illuminate\Database\Connection->Illuminate\Database\{closure}()
#2 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Connection.php(778): Illuminate\Database\Connection->runQueryCallback()
#3 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Connection.php(397): Illuminate\Database\Connection->run()
#4 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3188): Illuminate\Database\Connection->select()
#5 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3173): Illuminate\Database\Query\Builder->runSelect()
#6 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3763): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
#7 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3172): Illuminate\Database\Query\Builder->onceWithColumns()
#8 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(887): Illuminate\Database\Query\Builder->get()
#9 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(869): Illuminate\Database\Eloquent\Builder->getModels()
#10 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\app\Http\Controllers\DashboardController.php(187): Illuminate\Database\Eloquent\Builder->get()
#11 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(46): App\Http\Controllers\DashboardController->recentActivities()
#12 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#13 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#14 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#15 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#16 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#18 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle()
#20 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->Laravel\Sanctum\Http\Middleware\{closure}()
#22 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then()
#24 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle()
#25 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#26 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then()
#27 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack()
#28 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute()
#29 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute()
#30 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#31 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#32 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#35 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#37 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#38 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#39 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle()
#40 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#41 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#42 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle()
#44 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle()
#46 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#47 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#48 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#49 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#50 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#51 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#52 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#53 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#54 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#55 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#56 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\tests\Feature\Controllers\DashboardControllerTest.php(111): Illuminate\Foundation\Testing\TestCase->getJson()
#57 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\Controllers\DashboardControllerTest->admin_can_get_recent_activities()
#58 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#59 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#60 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#61 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#62 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#63 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#64 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#65 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run()
#66 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run()
#67 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle()
#68 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(192): {closure}()
#69 {main}

Next Illuminate\Database\QueryException: SQLSTATE[HY000]: General error: 1 no such function: CONCAT (Connection: sqlite, SQL: select "id", 'vehicle_added' as type, CONCAT('Vehicle ', license_plate, ' was added to the system') as description, "created_at" from "vehicles" order by "created_at" desc limit 5) in C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Connection.php:824
Stack trace:
#0 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Connection.php(778): Illuminate\Database\Connection->runQueryCallback()
#1 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Connection.php(397): Illuminate\Database\Connection->run()
#2 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3188): Illuminate\Database\Connection->select()
#3 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3173): Illuminate\Database\Query\Builder->runSelect()
#4 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3763): Illuminate\Database\Query\Builder->Illuminate\Database\Query\{closure}()
#5 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php(3172): Illuminate\Database\Query\Builder->onceWithColumns()
#6 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(887): Illuminate\Database\Query\Builder->get()
#7 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(869): Illuminate\Database\Eloquent\Builder->getModels()
#8 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\app\Http\Controllers\DashboardController.php(187): Illuminate\Database\Eloquent\Builder->get()
#9 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(46): App\Http\Controllers\DashboardController->recentActivities()
#10 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#11 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#12 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#13 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#14 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#16 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#17 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle()
#18 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#19 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->Laravel\Sanctum\Http\Middleware\{closure}()
#20 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then()
#22 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle()
#23 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#24 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then()
#25 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack()
#26 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute()
#27 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute()
#28 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#29 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#30 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#32 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#33 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#35 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#36 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#37 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle()
#38 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#39 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#40 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#41 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle()
#42 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#43 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle()
#44 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#45 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#46 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#47 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#48 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#49 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#50 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#51 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#52 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#53 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#54 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\tests\Feature\Controllers\DashboardControllerTest.php(111): Illuminate\Foundation\Testing\TestCase->getJson()
#55 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\Controllers\DashboardControllerTest->admin_can_get_recent_activities()
#56 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#57 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#58 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#59 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#60 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#61 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#62 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#63 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run()
#64 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run()
#65 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle()
#66 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(192): {closure}()
#67 {main}

----------------------------------------------------------------------------------

SQLSTATE[HY000]: General error: 1 no such function: CONCAT (Connection: sqlite, SQL: select "id", 'vehicle_added' as type, CONCAT('Vehicle ', license_plate, ' was added to the system') as description, "created_at" from "vehicles" order by "created_at" desc limit 5)

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\DashboardControllerTest.php:113

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\DashboardControllerTest > admin can get revenue stats   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\DashboardControllerTest.php:151

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\DashboardControllerTest > regular user cannot access dashboard  ValueError   
  "user" is not a valid backing value for enum App\Enums\UserRole

  at vendor\laravel\framework\src\Illuminate\Database\Eloquent\Concerns\HasAttributes.php:1281
    1277▕      */
    1278▕     protected function getEnumCaseFromValue($enumClass, $value)
    1279▕     {
    1280▕         return is_subclass_of($enumClass, BackedEnum::class)
  ➜ 1281▕             ? $enumClass::from($value)
    1282▕             : constant($enumClass.'::'.$value);
    1283▕     }
    1284▕ 
    1285▕     /**

  1   vendor\laravel\framework\src\Illuminate\Database\Eloquent\Concerns\HasAttributes.php:1281
  2   vendor\laravel\framework\src\Illuminate\Database\Eloquent\Concerns\HasAttributes.php:1266
  3   vendor\laravel\framework\src\Illuminate\Database\Eloquent\Concerns\HasAttributes.php:1069
  4   vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php:617
  5   vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php:303
  6   vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:851
  7   vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:456
  8   vendor\laravel\framework\src\Illuminate\Database\Eloquent\Concerns\GuardsAttributes.php:157
  9   vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:455
  10  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:426
  11  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:315
  12  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:312
  13  tests\Feature\Controllers\DashboardControllerTest.php:179

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\NotificationControllerTest > admin can retrieve all notifications   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Illuminate\Database\Eloquent\RelationNotFoundException: Call to undefined relationship [vehicle] on model [App\Models\Notification]. in C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Eloquent\RelationNotFoundException.php:35
Stack trace:
#0 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(954): Illuminate\Database\Eloquent\RelationNotFoundException::make()
#1 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Relations\Relation.php(119): Illuminate\Database\Eloquent\Builder->Illuminate\Database\Eloquent\{closure}()
#2 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(950): Illuminate\Database\Eloquent\Relations\Relation::noConstraints()
#3 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(924): Illuminate\Database\Eloquent\Builder->getRelation()
#4 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(904): Illuminate\Database\Eloquent\Builder->eagerLoadRelation()
#5 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(870): Illuminate\Database\Eloquent\Builder->eagerLoadRelations()
#6 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php(1110): Illuminate\Database\Eloquent\Builder->get()
#7 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\app\Http\Controllers\NotificationController.php(50): Illuminate\Database\Eloquent\Builder->paginate()
#8 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(46): App\Http\Controllers\NotificationController->index()
#9 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#10 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#11 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#12 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#13 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#15 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle()
#17 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->Laravel\Sanctum\Http\Middleware\{closure}()
#19 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#20 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then()
#21 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle()
#22 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#23 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then()
#24 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack()
#25 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute()
#26 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute()
#27 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#28 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#29 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#31 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#32 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#33 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#34 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#35 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle()
#37 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#39 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle()
#41 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle()
#43 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#45 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#47 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#48 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#49 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#50 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#51 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#52 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#53 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\tests\Feature\Controllers\NotificationControllerTest.php(60): Illuminate\Foundation\Testing\TestCase->getJson()
#54 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\Controllers\NotificationControllerTest->admin_can_retrieve_all_notifications()
#55 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#56 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#57 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#58 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#59 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#60 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#61 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#62 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run()
#63 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run()
#64 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle()
#65 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(192): {closure}()
#66 {main}

----------------------------------------------------------------------------------

Call to undefined relationship [vehicle] on model [App\Models\Notification].

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\NotificationControllerTest.php:62

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\NotificationControllerTest > admin can create a notification   
  Expected response status code [201] but received 405.
Failed asserting that 405 is identical to 201.

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\NotificationControllerTest.php:87

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\NotificationControllerTest > admin can retrieve a specific notification   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Call to undefined method App\Http\Controllers\NotificationController::authorize() in C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\app\Http\Controllers\NotificationController.php:76
Stack trace:
#0 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(46): App\Http\Controllers\NotificationController->show()
#1 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#2 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#3 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#4 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#5 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#6 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#7 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#8 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle()
#9 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#10 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->Laravel\Sanctum\Http\Middleware\{closure}()
#11 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#12 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then()
#13 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle()
#14 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then()
#16 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack()
#17 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute()
#18 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute()
#19 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#20 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#21 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#22 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#23 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#24 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#26 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#27 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle()
#29 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#31 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle()
#33 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle()
#35 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#37 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#39 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#41 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#42 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#43 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#44 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#45 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\tests\Feature\Controllers\NotificationControllerTest.php(121): Illuminate\Foundation\Testing\TestCase->getJson()
#46 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\Controllers\NotificationControllerTest->admin_can_retrieve_a_specific_notification()
#47 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#48 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#49 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#50 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#51 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#52 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#53 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#54 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run()
#55 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run()
#56 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle()
#57 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(192): {closure}()
#58 {main}

----------------------------------------------------------------------------------

Call to undefined method App\Http\Controllers\NotificationController::authorize()

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\NotificationControllerTest.php:123

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\NotificationControllerTest > admin can update a notification status   
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\NotificationControllerTest.php:149

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\NotificationControllerTest > admin can retrieve notifications for an owner   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\NotificationControllerTest.php:175

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\NotificationControllerTest > admin can create a notification for an owner   
  Expected response status code [201] but received 404.
Failed asserting that 404 is identical to 201.

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\NotificationControllerTest.php:207

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\NotificationControllerTest > agent can view but not send notifications   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Call to undefined method App\Http\Controllers\NotificationController::authorize() in C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\app\Http\Controllers\NotificationController.php:76
Stack trace:
#0 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\ControllerDispatcher.php(46): App\Http\Controllers\NotificationController->show()
#1 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(265): Illuminate\Routing\ControllerDispatcher->dispatch()
#2 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#3 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#4 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#5 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#6 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#7 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#8 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle()
#9 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#10 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->Laravel\Sanctum\Http\Middleware\{closure}()
#11 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#12 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then()
#13 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle()
#14 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#15 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then()
#16 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack()
#17 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute()
#18 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute()
#19 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#20 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#21 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#22 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#23 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#24 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#25 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#26 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#27 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle()
#29 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#30 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#31 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#32 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle()
#33 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle()
#35 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#37 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#39 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#41 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#42 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#43 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#44 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#45 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\tests\Feature\Controllers\NotificationControllerTest.php(240): Illuminate\Foundation\Testing\TestCase->getJson()
#46 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\Controllers\NotificationControllerTest->agent_can_view_but_not_send_notifications()
#47 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#48 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#49 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#50 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#51 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#52 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#53 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#54 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run()
#55 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run()
#56 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle()
#57 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(192): {closure}()
#58 {main}

----------------------------------------------------------------------------------

Call to undefined method App\Http\Controllers\NotificationController::authorize()

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\NotificationControllerTest.php:242

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\OwnerControllerTest > admin can create an owner   
  Expected response status code [201] but received 422.
Failed asserting that 422 is identical to 201.

The following errors occurred during the last request:

{
    "message": "The first name field is required. (and 2 more errors)",
    "errors": {
        "first_name": [
            "The first name field is required."
        ],
        "last_name": [
            "The last name field is required."
        ],
        "phone_number": [
            "The phone number field is required."
        ]
    }
}

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\OwnerControllerTest.php:62

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\OwnerControllerTest > admin can retrieve a specific owner   
  Unable to find JSON: 

[{
    "data": {
        "id": 1,
        "name": null,
        "id_number": "ZC30GLPNWZW"
    }
}]

within response JSON:

[{
    "data": {
        "id": 1,
        "first_name": "Dorothée",
        "last_name": "Roux",
        "phone": "+33 1 14 36 55 21",
        "email": "auguste.laurent@example.com",
        "address": "177, rue Blin\n29184 Delormenec",
        "id_number": "ZC30GLPNWZW",
        "id_type": "driver_license",
        "created_at": "2025-08-24T02:05:36.000000Z",
        "updated_at": "2025-08-24T02:05:36.000000Z"
    }
}].


Failed asserting that an array has the subset Array &0 [
    'data' => Array &1 [
        'id' => 1,
        'name' => null,
        'id_number' => 'ZC30GLPNWZW',
    ],
].
--- Expected
+++ Actual
@@ @@
     'id_type' => 'driver_license',
     'created_at' => '2025-08-24T02:05:36.000000Z',
     'updated_at' => '2025-08-24T02:05:36.000000Z',
-    'name' => NULL,
   ),
 )

  at vendor\laravel\framework\src\Illuminate\Testing\Constraints\ArraySubset.php:80
     76▕                 var_export($patched, true),
     77▕                 var_export($other, true)
     78▕             );
     79▕ 
  ➜  80▕             $this->fail($other, $description, $f);
     81▕         }
     82▕ 
     83▕         return null;
     84▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\Constraints\ArraySubset.php:80
  2   vendor\laravel\framework\src\Illuminate\Testing\Assert.php:36
  3   vendor\laravel\framework\src\Illuminate\Testing\AssertableJsonString.php:319
  4   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:833
  5   tests\Feature\Controllers\OwnerControllerTest.php:93

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\OwnerControllerTest > admin can update an owner   
  Unable to find JSON: 

[{
    "data": {
        "id": 1,
        "name": "Jane Smith",
        "phone": "+22998765432",
        "address": "456 Market Street, Cotonou"
    }
}]

within response JSON:

[{
    "data": {
        "id": 1,
        "first_name": "Richard",
        "last_name": "Pottier",
        "phone": "+33 8 95 73 58 96",
        "email": "blot.luc@example.net",
        "address": "456 Market Street, Cotonou",
        "id_number": "SRQU0CX1H",
        "id_type": "passport",
        "created_at": "2025-08-24T02:05:37.000000Z",
        "updated_at": "2025-08-24T02:05:37.000000Z"
    }
}].


Failed asserting that an array has the subset Array &0 [
    'data' => Array &1 [
        'id' => 1,
        'name' => 'Jane Smith',
        'phone' => '+22998765432',
        'address' => '456 Market Street, Cotonou',
    ],
].
--- Expected
+++ Actual
@@ @@
     'id' => 1,
     'first_name' => 'Richard',
     'last_name' => 'Pottier',
-    'phone' => '+22998765432',
+    'phone' => '+33 8 95 73 58 96',
     'email' => 'blot.luc@example.net',
     'address' => '456 Market Street, Cotonou',
     'id_number' => 'SRQU0CX1H',
@@ @@
     'id_type' => 'passport',
     'created_at' => '2025-08-24T02:05:37.000000Z',
     'updated_at' => '2025-08-24T02:05:37.000000Z',
-    'name' => 'Jane Smith',
   ),
 )

  at vendor\laravel\framework\src\Illuminate\Testing\Constraints\ArraySubset.php:80
     76▕                 var_export($patched, true),
     77▕                 var_export($other, true)
     78▕             );
     79▕ 
  ➜  80▕             $this->fail($other, $description, $f);
     81▕         }
     82▕ 
     83▕         return null;
     84▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\Constraints\ArraySubset.php:80
  2   vendor\laravel\framework\src\Illuminate\Testing\Assert.php:36
  3   vendor\laravel\framework\src\Illuminate\Testing\AssertableJsonString.php:319
  4   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:833
  5   tests\Feature\Controllers\OwnerControllerTest.php:117

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\PaymentControllerTest > admin can create a payment   
  Expected response status code [201] but received 422.
Failed asserting that 422 is identical to 201.

The following errors occurred during the last request:

{
    "message": "The procedure id field is required.",
    "errors": {
        "procedure_id": [
            "The procedure id field is required."
        ]
    }
}

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\PaymentControllerTest.php:74

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\PaymentControllerTest > admin can retrieve receipt for a payment  QueryException   
  SQLSTATE[HY000]: General error: 1 table payments has no column named status (Connection: sqlite, SQL: insert into "payments" ("vehicle_id", "owner_id", "amount", "payment_method", "payment_date", "reference", "description", "receipt_url", "user_id", "status", "updated_at", "created_at") values (1, 2, 156690, cash, 2025-07-24 02:27:15, PAY-620625, Voluptatum molestiae quia repudiandae aliquid voluptas voluptas., https://www.blondel.com/voluptatem-ipsum-provident-et-quo-corrupti-laboriosam, 1, completed, 2025-08-24 02:05:38, 2025-08-24 02:05:38))

  at vendor\laravel\framework\src\Illuminate\Database\Connection.php:564
    560▕             if ($this->pretending()) {
    561▕                 return true;
    562▕             }
    563▕ 
  ➜ 564▕             $statement = $this->getPdo()->prepare($query);
    565▕ 
    566▕             $this->bindValues($statement, $this->prepareBindings($bindings));
    567▕ 
    568▕             $this->recordsHaveBeenModified();

  1   vendor\laravel\framework\src\Illuminate\Database\Connection.php:564
  2   vendor\laravel\framework\src\Illuminate\Database\Connection.php:811
  3   vendor\laravel\framework\src\Illuminate\Database\Connection.php:778
  4   vendor\laravel\framework\src\Illuminate\Database\Connection.php:559
  5   vendor\laravel\framework\src\Illuminate\Database\Connection.php:523
  6   vendor\laravel\framework\src\Illuminate\Database\Query\Processors\Processor.php:32
  7   vendor\laravel\framework\src\Illuminate\Database\Query\Builder.php:3853
  8   vendor\laravel\framework\src\Illuminate\Database\Eloquent\Builder.php:2220
  9   vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php:1434
  10  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php:1399
  11  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Model.php:1238
  12  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:367
  13  vendor\laravel\framework\src\Illuminate\Collections\Traits\EnumeratesValues.php:271
  14  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:362
  15  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:318
  16  vendor\laravel\framework\src\Illuminate\Database\Eloquent\Factories\Factory.php:312
  17  tests\Feature\Controllers\PaymentControllerTest.php:123

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\PaymentControllerTest > admin can retrieve payments for a vehicle   
  Failed asserting that an array has the key 'payment_type'.

  at vendor\laravel\framework\src\Illuminate\Testing\AssertableJsonString.php:303
    299▕                 PHPUnit::assertArrayHasKey($key, $this->decoded);
    300▕ 
    301▕                 $this->assertStructure($structure[$key], $this->decoded[$key], $exact);
    302▕             } else {
  ➜ 303▕                 PHPUnit::assertArrayHasKey($value, $this->decoded);
    304▕             }
    305▕         }
    306▕ 
    307▕         return $this;

  1   vendor\laravel\framework\src\Illuminate\Testing\AssertableJsonString.php:303
  2   vendor\laravel\framework\src\Illuminate\Testing\AssertableJsonString.php:278
  3   vendor\laravel\framework\src\Illuminate\Testing\AssertableJsonString.php:296
  4   vendor\laravel\framework\src\Illuminate\Testing\AssertableJsonString.php:278
  5   vendor\laravel\framework\src\Illuminate\Testing\AssertableJsonString.php:301
  6   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:978
  7   tests\Feature\Controllers\PaymentControllerTest.php:160

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\PaymentControllerTest > admin can create a payment for a vehicle   
  Expected response status code [201] but received 422.
Failed asserting that 422 is identical to 201.

The following errors occurred during the last request:

{
    "message": "The selected payment type is invalid.",
    "errors": {
        "payment_type": [
            "The selected payment type is invalid."
        ]
    }
}

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\PaymentControllerTest.php:190

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\ProcedureControllerTest > admin can retrieve all procedures   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Call to undefined method App\Http\Controllers\ProcedureController::middleware() in C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\app\Http\Controllers\ProcedureController.php:26
Stack trace:
#0 [internal function]: App\Http\Controllers\ProcedureController->__construct()
#1 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(1205): ReflectionClass->newInstanceArgs()
#2 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(971): Illuminate\Container\Container->build()
#3 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1077): Illuminate\Container\Container->resolve()
#4 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(902): Illuminate\Foundation\Application->resolve()
#5 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1057): Illuminate\Container\Container->make()
#6 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(286): Illuminate\Foundation\Application->make()
#7 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(266): Illuminate\Routing\Route->getController()
#8 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#9 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#10 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#11 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#12 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#13 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle()
#15 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->Laravel\Sanctum\Http\Middleware\{closure}()
#17 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then()
#19 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle()
#20 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then()
#22 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack()
#23 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute()
#24 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute()
#25 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#26 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#27 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#29 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#30 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#32 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#33 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle()
#35 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#37 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle()
#39 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle()
#41 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#43 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#45 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#47 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#48 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#49 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#50 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#51 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\tests\Feature\Controllers\ProcedureControllerTest.php(60): Illuminate\Foundation\Testing\TestCase->getJson()
#52 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\Controllers\ProcedureControllerTest->admin_can_retrieve_all_procedures()
#53 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#54 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#55 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#56 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#57 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#58 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#59 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#60 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run()
#61 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run()
#62 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle()
#63 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(192): {closure}()
#64 {main}

----------------------------------------------------------------------------------

Call to undefined method App\Http\Controllers\ProcedureController::middleware()

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\ProcedureControllerTest.php:62

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\ProcedureControllerTest > admin can create a procedure   
  Expected response status code [201] but received 500.
Failed asserting that 500 is identical to 201.

The following exception occurred during the last request:

Error: Call to undefined method App\Http\Controllers\ProcedureController::middleware() in C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\app\Http\Controllers\ProcedureController.php:26
Stack trace:
#0 [internal function]: App\Http\Controllers\ProcedureController->__construct()
#1 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(1205): ReflectionClass->newInstanceArgs()
#2 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(971): Illuminate\Container\Container->build()
#3 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1077): Illuminate\Container\Container->resolve()
#4 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(902): Illuminate\Foundation\Application->resolve()
#5 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1057): Illuminate\Container\Container->make()
#6 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(286): Illuminate\Foundation\Application->make()
#7 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(266): Illuminate\Routing\Route->getController()
#8 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#9 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#10 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#11 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#12 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#13 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle()
#15 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->Laravel\Sanctum\Http\Middleware\{closure}()
#17 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then()
#19 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle()
#20 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then()
#22 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack()
#23 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute()
#24 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute()
#25 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#26 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#27 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#29 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#30 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#32 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#33 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle()
#35 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#37 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle()
#39 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle()
#41 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#43 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#45 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#47 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#48 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#49 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#50 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#51 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\tests\Feature\Controllers\ProcedureControllerTest.php(86): Illuminate\Foundation\Testing\TestCase->postJson()
#52 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\Controllers\ProcedureControllerTest->admin_can_create_a_procedure()
#53 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#54 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#55 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#56 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#57 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#58 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#59 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#60 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run()
#61 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run()
#62 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle()
#63 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(192): {closure}()
#64 {main}

----------------------------------------------------------------------------------

Call to undefined method App\Http\Controllers\ProcedureController::middleware()

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\ProcedureControllerTest.php:88

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\ProcedureControllerTest > admin can retrieve a specific procedure   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Call to undefined method App\Http\Controllers\ProcedureController::middleware() in C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\app\Http\Controllers\ProcedureController.php:26
Stack trace:
#0 [internal function]: App\Http\Controllers\ProcedureController->__construct()
#1 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(1205): ReflectionClass->newInstanceArgs()
#2 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(971): Illuminate\Container\Container->build()
#3 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1077): Illuminate\Container\Container->resolve()
#4 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(902): Illuminate\Foundation\Application->resolve()
#5 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1057): Illuminate\Container\Container->make()
#6 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(286): Illuminate\Foundation\Application->make()
#7 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(266): Illuminate\Routing\Route->getController()
#8 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#9 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#10 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#11 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#12 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#13 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle()
#15 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->Laravel\Sanctum\Http\Middleware\{closure}()
#17 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then()
#19 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle()
#20 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then()
#22 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack()
#23 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute()
#24 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute()
#25 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#26 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#27 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#29 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#30 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#32 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#33 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle()
#35 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#37 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle()
#39 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle()
#41 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#43 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#45 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#47 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#48 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#49 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#50 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#51 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\tests\Feature\Controllers\ProcedureControllerTest.php(124): Illuminate\Foundation\Testing\TestCase->getJson()
#52 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\Controllers\ProcedureControllerTest->admin_can_retrieve_a_specific_procedure()
#53 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#54 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#55 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#56 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#57 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#58 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#59 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#60 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run()
#61 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run()
#62 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle()
#63 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(192): {closure}()
#64 {main}

----------------------------------------------------------------------------------

Call to undefined method App\Http\Controllers\ProcedureController::middleware()

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\ProcedureControllerTest.php:126

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\ProcedureControllerTest > admin can update a procedure   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Call to undefined method App\Http\Controllers\ProcedureController::middleware() in C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\app\Http\Controllers\ProcedureController.php:26
Stack trace:
#0 [internal function]: App\Http\Controllers\ProcedureController->__construct()
#1 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(1205): ReflectionClass->newInstanceArgs()
#2 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(971): Illuminate\Container\Container->build()
#3 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1077): Illuminate\Container\Container->resolve()
#4 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(902): Illuminate\Foundation\Application->resolve()
#5 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1057): Illuminate\Container\Container->make()
#6 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(286): Illuminate\Foundation\Application->make()
#7 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(266): Illuminate\Routing\Route->getController()
#8 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#9 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#10 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#11 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#12 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#13 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle()
#15 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->Laravel\Sanctum\Http\Middleware\{closure}()
#17 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then()
#19 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle()
#20 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then()
#22 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack()
#23 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute()
#24 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute()
#25 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#26 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#27 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#29 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#30 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#32 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#33 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle()
#35 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#37 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle()
#39 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle()
#41 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#43 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#45 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#47 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#48 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#49 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#50 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(441): Illuminate\Foundation\Testing\TestCase->json()
#51 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\tests\Feature\Controllers\ProcedureControllerTest.php(151): Illuminate\Foundation\Testing\TestCase->putJson()
#52 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\Controllers\ProcedureControllerTest->admin_can_update_a_procedure()
#53 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#54 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#55 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#56 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#57 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#58 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#59 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#60 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run()
#61 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run()
#62 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle()
#63 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(192): {closure}()
#64 {main}

----------------------------------------------------------------------------------

Call to undefined method App\Http\Controllers\ProcedureController::middleware()

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\ProcedureControllerTest.php:153

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\ProcedureControllerTest > agent can only view procedures   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Call to undefined method App\Http\Controllers\ProcedureController::middleware() in C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\app\Http\Controllers\ProcedureController.php:26
Stack trace:
#0 [internal function]: App\Http\Controllers\ProcedureController->__construct()
#1 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(1205): ReflectionClass->newInstanceArgs()
#2 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(971): Illuminate\Container\Container->build()
#3 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1077): Illuminate\Container\Container->resolve()
#4 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(902): Illuminate\Foundation\Application->resolve()
#5 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1057): Illuminate\Container\Container->make()
#6 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(286): Illuminate\Foundation\Application->make()
#7 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(266): Illuminate\Routing\Route->getController()
#8 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#9 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#10 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#11 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#12 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#13 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle()
#15 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->Laravel\Sanctum\Http\Middleware\{closure}()
#17 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then()
#19 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle()
#20 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then()
#22 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack()
#23 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute()
#24 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute()
#25 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#26 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#27 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#29 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#30 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#32 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#33 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle()
#35 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#37 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle()
#39 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle()
#41 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#43 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#45 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#47 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#48 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#49 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#50 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#51 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\tests\Feature\Controllers\ProcedureControllerTest.php(179): Illuminate\Foundation\Testing\TestCase->getJson()
#52 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\Controllers\ProcedureControllerTest->agent_can_only_view_procedures()
#53 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#54 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#55 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#56 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#57 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#58 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#59 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#60 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run()
#61 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run()
#62 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle()
#63 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(192): {closure}()
#64 {main}

----------------------------------------------------------------------------------

Call to undefined method App\Http\Controllers\ProcedureController::middleware()

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\ProcedureControllerTest.php:181

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\ProcedureControllerTest > admin can retrieve procedures for a vehicle   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\ProcedureControllerTest.php:206

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\ProcedureControllerTest > admin can create a procedure for a vehicle   
  Expected response status code [201] but received 404.
Failed asserting that 404 is identical to 201.

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\ProcedureControllerTest.php:238

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\UserControllerTest > admin can retrieve all users   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Call to undefined method App\Http\Controllers\Admin\UserController::middleware() in C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\app\Http\Controllers\Admin\UserController.php:25
Stack trace:
#0 [internal function]: App\Http\Controllers\Admin\UserController->__construct()
#1 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(1205): ReflectionClass->newInstanceArgs()
#2 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(971): Illuminate\Container\Container->build()
#3 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1077): Illuminate\Container\Container->resolve()
#4 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(902): Illuminate\Foundation\Application->resolve()
#5 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1057): Illuminate\Container\Container->make()
#6 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(286): Illuminate\Foundation\Application->make()
#7 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(266): Illuminate\Routing\Route->getController()
#8 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#9 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#10 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#11 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#12 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#13 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle()
#15 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->Laravel\Sanctum\Http\Middleware\{closure}()
#17 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then()
#19 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle()
#20 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then()
#22 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack()
#23 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute()
#24 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute()
#25 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#26 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#27 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#29 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#30 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#32 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#33 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle()
#35 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#37 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle()
#39 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle()
#41 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#43 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#45 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#47 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#48 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#49 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#50 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#51 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\tests\Feature\Controllers\UserControllerTest.php(43): Illuminate\Foundation\Testing\TestCase->getJson()
#52 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\Controllers\UserControllerTest->admin_can_retrieve_all_users()
#53 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#54 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#55 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#56 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#57 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#58 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#59 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#60 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run()
#61 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run()
#62 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle()
#63 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(192): {closure}()
#64 {main}

----------------------------------------------------------------------------------

Call to undefined method App\Http\Controllers\Admin\UserController::middleware()

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\UserControllerTest.php:45

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\UserControllerTest > admin can create a user   
  Expected response status code [201] but received 500.
Failed asserting that 500 is identical to 201.

The following exception occurred during the last request:

Error: Call to undefined method App\Http\Controllers\Admin\UserController::middleware() in C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\app\Http\Controllers\Admin\UserController.php:25
Stack trace:
#0 [internal function]: App\Http\Controllers\Admin\UserController->__construct()
#1 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(1205): ReflectionClass->newInstanceArgs()
#2 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(971): Illuminate\Container\Container->build()
#3 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1077): Illuminate\Container\Container->resolve()
#4 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(902): Illuminate\Foundation\Application->resolve()
#5 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1057): Illuminate\Container\Container->make()
#6 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(286): Illuminate\Foundation\Application->make()
#7 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(266): Illuminate\Routing\Route->getController()
#8 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#9 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#10 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#11 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#12 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#13 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle()
#15 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->Laravel\Sanctum\Http\Middleware\{closure}()
#17 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then()
#19 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle()
#20 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then()
#22 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack()
#23 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute()
#24 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute()
#25 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#26 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#27 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#29 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#30 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#32 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#33 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle()
#35 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#37 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle()
#39 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle()
#41 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#43 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#45 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#47 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#48 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#49 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#50 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#51 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\tests\Feature\Controllers\UserControllerTest.php(69): Illuminate\Foundation\Testing\TestCase->postJson()
#52 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\Controllers\UserControllerTest->admin_can_create_a_user()
#53 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#54 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#55 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#56 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#57 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#58 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#59 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#60 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run()
#61 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run()
#62 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle()
#63 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(192): {closure}()
#64 {main}

----------------------------------------------------------------------------------

Call to undefined method App\Http\Controllers\Admin\UserController::middleware()

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\UserControllerTest.php:71

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\UserControllerTest > admin can retrieve a specific user   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Call to undefined method App\Http\Controllers\Admin\UserController::middleware() in C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\app\Http\Controllers\Admin\UserController.php:25
Stack trace:
#0 [internal function]: App\Http\Controllers\Admin\UserController->__construct()
#1 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(1205): ReflectionClass->newInstanceArgs()
#2 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(971): Illuminate\Container\Container->build()
#3 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1077): Illuminate\Container\Container->resolve()
#4 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(902): Illuminate\Foundation\Application->resolve()
#5 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1057): Illuminate\Container\Container->make()
#6 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(286): Illuminate\Foundation\Application->make()
#7 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(266): Illuminate\Routing\Route->getController()
#8 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#9 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#10 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#11 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#12 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#13 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle()
#15 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->Laravel\Sanctum\Http\Middleware\{closure}()
#17 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then()
#19 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle()
#20 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then()
#22 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack()
#23 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute()
#24 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute()
#25 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#26 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#27 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#29 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#30 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#32 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#33 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle()
#35 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#37 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle()
#39 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle()
#41 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#43 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#45 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#47 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#48 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#49 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#50 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#51 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\tests\Feature\Controllers\UserControllerTest.php(95): Illuminate\Foundation\Testing\TestCase->getJson()
#52 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\Controllers\UserControllerTest->admin_can_retrieve_a_specific_user()
#53 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#54 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#55 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#56 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#57 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#58 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#59 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#60 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run()
#61 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run()
#62 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle()
#63 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(192): {closure}()
#64 {main}

----------------------------------------------------------------------------------

Call to undefined method App\Http\Controllers\Admin\UserController::middleware()

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\UserControllerTest.php:97

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\UserControllerTest > admin can update a user   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Call to undefined method App\Http\Controllers\Admin\UserController::middleware() in C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\app\Http\Controllers\Admin\UserController.php:25
Stack trace:
#0 [internal function]: App\Http\Controllers\Admin\UserController->__construct()
#1 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(1205): ReflectionClass->newInstanceArgs()
#2 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(971): Illuminate\Container\Container->build()
#3 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1077): Illuminate\Container\Container->resolve()
#4 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(902): Illuminate\Foundation\Application->resolve()
#5 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1057): Illuminate\Container\Container->make()
#6 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(286): Illuminate\Foundation\Application->make()
#7 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(266): Illuminate\Routing\Route->getController()
#8 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#9 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#10 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#11 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#12 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#13 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle()
#15 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->Laravel\Sanctum\Http\Middleware\{closure}()
#17 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then()
#19 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle()
#20 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then()
#22 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack()
#23 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute()
#24 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute()
#25 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#26 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#27 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#29 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#30 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#32 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#33 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle()
#35 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#37 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle()
#39 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle()
#41 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#43 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#45 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#47 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#48 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#49 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#50 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(441): Illuminate\Foundation\Testing\TestCase->json()
#51 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\tests\Feature\Controllers\UserControllerTest.php(118): Illuminate\Foundation\Testing\TestCase->putJson()
#52 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\Controllers\UserControllerTest->admin_can_update_a_user()
#53 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#54 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#55 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#56 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#57 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#58 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#59 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#60 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run()
#61 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run()
#62 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle()
#63 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(192): {closure}()
#64 {main}

----------------------------------------------------------------------------------

Call to undefined method App\Http\Controllers\Admin\UserController::middleware()

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\UserControllerTest.php:120

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\UserControllerTest > admin can delete a user   
  Expected response status code [204] but received 500.
Failed asserting that 500 is identical to 204.

The following exception occurred during the last request:

Error: Call to undefined method App\Http\Controllers\Admin\UserController::middleware() in C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\app\Http\Controllers\Admin\UserController.php:25
Stack trace:
#0 [internal function]: App\Http\Controllers\Admin\UserController->__construct()
#1 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(1205): ReflectionClass->newInstanceArgs()
#2 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(971): Illuminate\Container\Container->build()
#3 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1077): Illuminate\Container\Container->resolve()
#4 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(902): Illuminate\Foundation\Application->resolve()
#5 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1057): Illuminate\Container\Container->make()
#6 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(286): Illuminate\Foundation\Application->make()
#7 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(266): Illuminate\Routing\Route->getController()
#8 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#9 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#10 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#11 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#12 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#13 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle()
#15 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->Laravel\Sanctum\Http\Middleware\{closure}()
#17 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then()
#19 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle()
#20 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then()
#22 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack()
#23 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute()
#24 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute()
#25 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#26 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#27 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#29 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#30 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#32 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#33 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle()
#35 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#37 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle()
#39 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle()
#41 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#43 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#45 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#47 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#48 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#49 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#50 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(501): Illuminate\Foundation\Testing\TestCase->json()
#51 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\tests\Feature\Controllers\UserControllerTest.php(143): Illuminate\Foundation\Testing\TestCase->deleteJson()
#52 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\Controllers\UserControllerTest->admin_can_delete_a_user()
#53 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#54 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#55 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#56 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#57 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#58 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#59 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#60 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run()
#61 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run()
#62 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle()
#63 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(192): {closure}()
#64 {main}

----------------------------------------------------------------------------------

Call to undefined method App\Http\Controllers\Admin\UserController::middleware()

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\UserControllerTest.php:145

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\UserControllerTest > admin cannot delete themselves   
  Expected response status code [403] but received 500.
Failed asserting that 500 is identical to 403.

The following exception occurred during the last request:

Error: Call to undefined method App\Http\Controllers\Admin\UserController::middleware() in C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\app\Http\Controllers\Admin\UserController.php:25
Stack trace:
#0 [internal function]: App\Http\Controllers\Admin\UserController->__construct()
#1 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(1205): ReflectionClass->newInstanceArgs()
#2 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(971): Illuminate\Container\Container->build()
#3 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1077): Illuminate\Container\Container->resolve()
#4 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(902): Illuminate\Foundation\Application->resolve()
#5 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1057): Illuminate\Container\Container->make()
#6 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(286): Illuminate\Foundation\Application->make()
#7 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(266): Illuminate\Routing\Route->getController()
#8 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#9 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#10 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#11 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#12 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#13 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle()
#15 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->Laravel\Sanctum\Http\Middleware\{closure}()
#17 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then()
#19 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle()
#20 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then()
#22 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack()
#23 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute()
#24 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute()
#25 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#26 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#27 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#29 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#30 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#32 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#33 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle()
#35 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#37 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle()
#39 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle()
#41 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#43 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#45 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#47 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#48 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#49 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#50 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(501): Illuminate\Foundation\Testing\TestCase->json()
#51 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\tests\Feature\Controllers\UserControllerTest.php(156): Illuminate\Foundation\Testing\TestCase->deleteJson()
#52 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\Controllers\UserControllerTest->admin_cannot_delete_themselves()
#53 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#54 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#55 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#56 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#57 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#58 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#59 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#60 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run()
#61 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run()
#62 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle()
#63 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(192): {closure}()
#64 {main}

----------------------------------------------------------------------------------

Call to undefined method App\Http\Controllers\Admin\UserController::middleware()

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\UserControllerTest.php:158

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\UserControllerTest > agent cannot manage users   
  Expected response status code [403] but received 500.
Failed asserting that 500 is identical to 403.

The following exception occurred during the last request:

Error: Call to undefined method App\Http\Controllers\Admin\UserController::middleware() in C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\app\Http\Controllers\Admin\UserController.php:25
Stack trace:
#0 [internal function]: App\Http\Controllers\Admin\UserController->__construct()
#1 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(1205): ReflectionClass->newInstanceArgs()
#2 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(971): Illuminate\Container\Container->build()
#3 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1077): Illuminate\Container\Container->resolve()
#4 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(902): Illuminate\Foundation\Application->resolve()
#5 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1057): Illuminate\Container\Container->make()
#6 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(286): Illuminate\Foundation\Application->make()
#7 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(266): Illuminate\Routing\Route->getController()
#8 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#9 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#10 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#11 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#12 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#13 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle()
#15 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->Laravel\Sanctum\Http\Middleware\{closure}()
#17 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then()
#19 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle()
#20 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then()
#22 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack()
#23 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute()
#24 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute()
#25 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#26 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#27 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#29 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#30 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#32 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#33 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle()
#35 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#37 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle()
#39 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle()
#41 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#43 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#45 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#47 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#48 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#49 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#50 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(411): Illuminate\Foundation\Testing\TestCase->json()
#51 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\tests\Feature\Controllers\UserControllerTest.php(178): Illuminate\Foundation\Testing\TestCase->postJson()
#52 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\Controllers\UserControllerTest->agent_cannot_manage_users()
#53 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#54 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#55 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#56 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#57 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#58 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#59 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#60 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run()
#61 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run()
#62 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle()
#63 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(192): {closure}()
#64 {main}

----------------------------------------------------------------------------------

Call to undefined method App\Http\Controllers\Admin\UserController::middleware()

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\UserControllerTest.php:180

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\UserControllerTest > admin can search users by name or email   
  Expected response status code [200] but received 500.
Failed asserting that 500 is identical to 200.

The following exception occurred during the last request:

Error: Call to undefined method App\Http\Controllers\Admin\UserController::middleware() in C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\app\Http\Controllers\Admin\UserController.php:25
Stack trace:
#0 [internal function]: App\Http\Controllers\Admin\UserController->__construct()
#1 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(1205): ReflectionClass->newInstanceArgs()
#2 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(971): Illuminate\Container\Container->build()
#3 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1077): Illuminate\Container\Container->resolve()
#4 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Container\Container.php(902): Illuminate\Foundation\Application->resolve()
#5 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Application.php(1057): Illuminate\Container\Container->make()
#6 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(286): Illuminate\Foundation\Application->make()
#7 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(266): Illuminate\Routing\Route->getController()
#8 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Route.php(211): Illuminate\Routing\Route->runController()
#9 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(822): Illuminate\Routing\Route->run()
#10 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Routing\Router->Illuminate\Routing\{closure}()
#11 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Middleware\SubstituteBindings.php(50): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#12 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Routing\Middleware\SubstituteBindings->handle()
#13 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Auth\Middleware\Authenticate.php(63): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#14 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Auth\Middleware\Authenticate->handle()
#15 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#16 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->Laravel\Sanctum\Http\Middleware\{closure}()
#17 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#18 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\sanctum\src\Http\Middleware\EnsureFrontendRequestsAreStateful.php(25): Illuminate\Pipeline\Pipeline->then()
#19 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Laravel\Sanctum\Http\Middleware\EnsureFrontendRequestsAreStateful->handle()
#20 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#21 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(821): Illuminate\Pipeline\Pipeline->then()
#22 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(800): Illuminate\Routing\Router->runRouteWithinStack()
#23 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(764): Illuminate\Routing\Router->runRoute()
#24 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Routing\Router.php(753): Illuminate\Routing\Router->dispatchToRoute()
#25 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(200): Illuminate\Routing\Router->dispatch()
#26 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(180): Illuminate\Foundation\Http\Kernel->Illuminate\Foundation\Http\{closure}()
#27 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#28 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull.php(31): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#29 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\ConvertEmptyStringsToNull->handle()
#30 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TransformsRequest.php(21): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#31 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\TrimStrings.php(51): Illuminate\Foundation\Http\Middleware\TransformsRequest->handle()
#32 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\TrimStrings->handle()
#33 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePostSize.php(27): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#34 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePostSize->handle()
#35 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance.php(109): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#36 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\PreventRequestsDuringMaintenance->handle()
#37 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\HandleCors.php(61): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#38 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\HandleCors->handle()
#39 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\TrustProxies.php(58): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#40 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\TrustProxies->handle()
#41 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks.php(22): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#42 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Foundation\Http\Middleware\InvokeDeferredCallbacks->handle()
#43 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Http\Middleware\ValidatePathEncoding.php(26): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#44 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(219): Illuminate\Http\Middleware\ValidatePathEncoding->handle()
#45 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Pipeline\Pipeline.php(137): Illuminate\Pipeline\Pipeline->Illuminate\Pipeline\{closure}()
#46 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(175): Illuminate\Pipeline\Pipeline->then()
#47 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Http\Kernel.php(144): Illuminate\Foundation\Http\Kernel->sendRequestThroughRouter()
#48 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(607): Illuminate\Foundation\Http\Kernel->handle()
#49 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(573): Illuminate\Foundation\Testing\TestCase->call()
#50 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\laravel\framework\src\Illuminate\Foundation\Testing\Concerns\MakesHttpRequests.php(381): Illuminate\Foundation\Testing\TestCase->json()
#51 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\tests\Feature\Controllers\UserControllerTest.php(209): Illuminate\Foundation\Testing\TestCase->getJson()
#52 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(1656): Tests\Feature\Controllers\UserControllerTest->admin_can_search_users_by_name_or_email()
#53 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(514): PHPUnit\Framework\TestCase->runTest()
#54 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestRunner\TestRunner.php(87): PHPUnit\Framework\TestCase->runBare()
#55 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestCase.php(361): PHPUnit\Framework\TestRunner->run()
#56 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestCase->run()
#57 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#58 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\Framework\TestSuite.php(369): PHPUnit\Framework\TestSuite->run()
#59 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\TestRunner.php(64): PHPUnit\Framework\TestSuite->run()
#60 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\phpunit\phpunit\src\TextUI\Application.php(211): PHPUnit\TextUI\TestRunner->run()
#61 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\src\Kernel.php(103): PHPUnit\TextUI\Application->run()
#62 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(184): Pest\Kernel->handle()
#63 C:\Users\hp\Desktop\cotonou-municipal-garage-system\backend-laravel\vendor\pestphp\pest\bin\pest(192): {closure}()
#64 {main}

----------------------------------------------------------------------------------

Call to undefined method App\Http\Controllers\Admin\UserController::middleware()

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\UserControllerTest.php:211

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\UserControllerTest > user can change their own password   
  Expected response status code [200] but received 405.
Failed asserting that 405 is identical to 200.

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\UserControllerTest.php:234

  ────────────────────────────────────────────────────────────────────────────  
   FAILED  Tests\Feature\Controllers\UserControllerTest > admin can reset user password   
  Expected response status code [200] but received 404.
Failed asserting that 404 is identical to 200.

  at vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
     41▕      */
     42▕     public function __call($name, $arguments)
     43▕     {
     44▕         try {
  ➜  45▕             Assert::$name(...$arguments);
     46▕         } catch (ExpectationFailedException $e) {
     47▕             throw $this->injectResponseContext($e);
     48▕         }
     49▕     }

  1   vendor\laravel\framework\src\Illuminate\Testing\TestResponseAssert.php:45
  2   vendor\laravel\framework\src\Illuminate\Testing\TestResponse.php:174
  3   tests\Feature\Controllers\UserControllerTest.php:259


  Tests:    37 failed, 14 passed (120 assertions)
  Duration: 9.02s

